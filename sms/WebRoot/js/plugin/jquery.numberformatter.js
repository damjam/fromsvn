(function(C){function A(D,G,E,F){this.valid=D;this.dec=G;this.group=E;this.neg=F}function B(D){var E="1234567890.,-";var H=".";var F=",";var G="-";if(D=="us"||D=="ae"||D=="eg"||D=="il"||D=="jp"||D=="sk"||D=="th"||D=="cn"||D=="hk"||D=="tw"||D=="au"||D=="ca"||D=="gb"||D=="in"){E="1234567890.,-";H=".";F=","}else{if(D=="de"||D=="vn"||D=="es"||D=="dk"||D=="at"||D=="gr"||D=="br"){E="1234567890.,-";H=",";F="."}else{if(D=="cz"||D=="fr"||D=="fi"||D=="ru"||D=="se"){E="1234567890,- ";F=" ";H=","}else{if(D=="ch"){E="1234567890.-'";F="'";H="."}}}}return new A(E,H,F,G)}C.formatNumber=function(G,E){var E=C.extend({},C.fn.parse.defaults,E);var I=B(E.locale.toLowerCase());var F=I.valid;var K=I.dec;var H=I.group;var J=I.neg;var D=new String(G);D=D.replace(".",K).replace("-",J);return D};C.fn.parse=function(D){var D=C.extend({},C.fn.parse.defaults,D);var G=B(D.locale.toLowerCase());var E=G.valid;var J=G.dec;var F=G.group;var I=G.neg;var H=[];this.each(function(){var L=new String(C(this).text());if(C(this).is(":input")){L=new String(C(this).val())}var K=new Number(L.replace(F,"").replace(J,".").replace(I,"-"));H.push(K)});return H};C.fn.format=function(D){var D=C.extend({},C.fn.format.defaults,D);var G=B(D.locale.toLowerCase());var E=G.valid;var I=G.dec;var F=G.group;var H=G.neg;return this.each(function(){var W=new String(C(this).text());if(C(this).is(":input")){W=new String(C(this).val())}var X=true;for(var P=0;P<W.length;P++){if(E.indexOf(W.charAt(P))==-1){X=false}}if(X){var O=new Number(W.replace(F,"").replace(I,".").replace(H,"-"));var S="";var L=O%1;if(D.format.indexOf(".")>-1){var K=I;var M=D.format.substring(D.format.lastIndexOf(".")+1);var V=new String(L.toFixed(M.length));V=V.substring(V.lastIndexOf(".")+1);for(var P=0;P<M.length;P++){if(M.charAt(P)=="#"&&V.charAt(P)!="0"){K+=V.charAt(P);break}else{if(M.charAt(P)=="0"){K+=V.charAt(P)}}}S+=K}else{O=Math.round(O)}var T=Math.floor(O);var R="";if(T==0){R="0"}else{var N="";if(D.format.indexOf(".")==-1){N=D.format}else{N=D.format.substring(0,D.format.indexOf("."))}var Q=new String(T);var J=9999;if(N.lastIndexOf(",")!=-1){J=N.length-N.lastIndexOf(",")-1}var U=0;for(var P=Q.length-1;P>-1;P--){R=Q.charAt(P)+R;U++;if(U==J&&P!=0){R=F+R;U=0}}}S=R+S;if(O<0){S+=H}if(C(this).is(":input")){C(this).val(S)}else{C(this).text(S)}}})};C.fn.parse.defaults={locale:"us"};C.fn.format.defaults={format:"#,###.00",locale:"us"}})(jQuery);